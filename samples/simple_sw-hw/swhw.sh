#!/bin/bash

export SCRIPTDIR=$(dirname $(realpath $BASH_SOURCE))

STDCXX=17

SYSTEMC_INCLUDE=$SYSTEMC_HOME/include
SYSTEMC_LIBRARY=$SYSTEMC_HOME/lib-mingw64
# SYSTEMC_LIBRARY=$SYSTEMC_HOME/lib-linux64

SRCNAME=swhw_simple

INCPATH=$SCRIPTDIR/.
SRCFILE=$SCRIPTDIR/$SRCNAME.cpp
EXEFILE=$SCRIPTDIR/$SRCNAME.exe

export LD_LIBRARY_PATH=$SYSTEMC_LIBRARY:$CCI_LIBRARY:$LD_LIBRARY_PATH

if [ -f "$EXEFILE" ]; then
    rm -f $EXEFILE
fi

g++ --std=gnu++$STDCXX $SRCFILE -o $EXEFILE -I$INCPATH -I$SYSTEMC_INCLUDE -L$SYSTEMC_LIBRARY -lsystemc
$EXEFILE
